<%@ Page Title="RawList" Language="C#" MasterPageFile="~/Site.Master" CodeBehind="Default.aspx.cs" Inherits="FrontierAg.Admin.Raws.Default" %>

<%@ Register TagPrefix="FriendlyUrls" Namespace="Microsoft.AspNet.FriendlyUrls" %>
<asp:Content runat="server" ContentPlaceHolderID="MainContent">
    <%-- <script type="text/javascript">

        function Popup2(data) {
            var mywindow = window.open('', 'new div', 'height=400,width=600');
            mywindow.document.write('<html><head><title>my div</title>');
            /*optional stylesheet*/ //mywindow.document.write('<link rel="stylesheet" href="main.css" type="text/css" />');
            mywindow.document.write('</head><body >');
            mywindow.document.write(data);
            mywindow.document.write('</body></html>');
            mywindow.document.close();
            mywindow.focus();
            mywindow.print();
            mywindow.close();
            return true;
        }

        function ReStructureData(data) {
            var Four = $("td").eq(3);
            
            $("p").append(" <b>Appended text</b>.");
        }

        $(function () {
            $('.test1').on('click', function () {
                var HyperLink = $(this);
                var MyRow = $(this).parent().parent().html();
                ReStructureData(MyRow);
                //var myDate1 = $(MyRow).
                //alert(MyRow);
                //window.print(MyRow);
                //PrintElem('MyRow');
                //Popup2(MyRow);
            });
        });

    </script>--%>
    <div class="PrintHidden2">
        <h3>Raw Material List</h3>
        <p>
            <asp:HyperLink runat="server" NavigateUrl="Insert" Text="Create new" />
        </p>
        <asp:GridView runat="server" ID="RawsGrid" CssClass="table table-striped table-bordered"
            ItemType="FrontierAg.Models.Raw" DataKeyNames="RawId" AutoGenerateEditButton="true" AutoGenerateDeleteButton="true"
            SelectMethod="GetData" UpdateMethod="RawsGrid_UpdateItem" DeleteMethod="RawsGrid_DeleteItem"
            AutoGenerateColumns="false">
            <Columns>
                <asp:DynamicField DataField="DateRecived" />
                <asp:TemplateField HeaderText="Description">
                    <ItemTemplate>
                        <asp:Label Text="<%# Item.Product.ProductName %>"
                            runat="server" />
                    </ItemTemplate>
                </asp:TemplateField>
                <asp:DynamicField DataField="Manufacturer" />
                <asp:DynamicField DataField="ManPartNumber" />
                <asp:DynamicField DataField="ManLotNumber" />
                <asp:TemplateField HeaderText="Frontier Product#">
                    <ItemTemplate>
                        <asp:Label Text="<%# Item.Product.ProductNo %>"
                            runat="server" />
                    </ItemTemplate>
                </asp:TemplateField>
                <asp:DynamicField DataField="LotNumber" />
                <asp:DynamicField DataField="ExpDate" />
                <%--<asp:ButtonField ButtonType="Link" Text="Print Label" ControlStyle-CssClass="test1" />--%>
                <asp:HyperLinkField Text="Print Label" DataNavigateUrlFormatString="~/Admin/Raws/Details/{0}" DataNavigateUrlFields="RawId" />
            </Columns>
        </asp:GridView>
        <div class="row">
            &nbsp;
        </div>
        <div class="form-group">
            <div>
                <asp:Button ID="backButton" runat="server" Text="Back" OnClientClick="JavaScript:window.history.back(1);return false;" CssClass="btn btn-warning" />
            </div>
        </div>
    </div>

</asp:Content>

